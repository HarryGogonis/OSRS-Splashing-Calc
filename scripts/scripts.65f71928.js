"use strict";angular.module("osrssplashCalcApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("osrssplashCalcApp").controller("MainCtrl",["$http","$scope",function(a,b){var c="https://api.rsbuddy.com/grandExchange?a=guidePrice&i=",d=1200,e={mind:11.5,chaos:22.5,death:34.5,blood:42.5},f=function(a){return d*a},g=function(a,b){for(var c=0,d=1;a>d;d++)c+=Math.floor(d+300*Math.pow(2,d/7));var e=Math.floor(c/4);return e-b},h=function(){var a=Math.ceil(b.xp.left/b.mind.xp);b.mind.totalCost=b.mind.gp*a,b.mind.castsLeft=a,b.mind.timeLeft=a/d},i=function(){var a=Math.ceil(b.xp.left/b.chaos.xp);b.chaos.totalCost=b.chaos.gp*a,b.chaos.castsLeft=a,b.chaos.timeLeft=a/d},j=function(){var a=Math.ceil(b.xp.left/b.death.xp);b.death.totalCost=b.death.gp*a,b.death.castsLeft=a,b.death.timeLeft=a/d},k=function(){var a=Math.ceil(b.xp.left/b.blood.xp);b.blood.totalCost=b.blood.gp*a,b.blood.castsLeft=a,b.blood.timeLeft=a/d},l=function(){h(),i(),j(),k()};b.xp={current:1e6,target:94,left:0},b.mind={gp:0,xp:e.mind,xpHr:f(e.mind),gpHr:0,totalCost:0,castsLeft:0,timeLeft:0},b.chaos={gp:0,xp:e.chaos,xpHr:f(e.chaos),gpHr:0,totalCost:0,castsLeft:0,timeLeft:0},b.death={gp:0,xp:e.death,xpHr:f(e.death),gpHr:0,totalCost:0,castsLeft:0},b.blood={gp:0,xp:e.blood,xpHr:f(e.blood),gpHr:0,totalCost:0,castsLeft:0},b.$watch("mind.gp",function(){b.mind.gpHr=b.mind.gp*d,h()}),b.$watch("chaos.gp",function(){b.chaos.gpHr=b.chaos.gp*d,i()}),b.$watch("death.gp",function(){b.death.gpHr=b.death.gp*d,j()}),b.$watch("blood.gp",function(){b.blood.gpHr=b.blood.gp*d,k()}),b.$watch("xp.current",function(){b.xp.left=g(b.xp.target,b.xp.current),l()}),b.$watch("xp.target",function(){b.xp.left=g(b.xp.target,b.xp.current),l()}),a.get(c+"558").then(function(a){b.mind.gp=a.data.overall},function(a){console.log(a)}),a.get(c+"562").then(function(a){b.chaos.gp=a.data.overall},function(a){console.log(a)}),a.get(c+"560").then(function(a){b.death.gp=a.data.overall},function(a){console.log(a)}),a.get(c+"565").then(function(a){b.blood.gp=a.data.overall},function(a){console.log(a)})}]),angular.module("osrssplashCalcApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("osrssplashCalcApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="row"> <div class="col-md-12"> <form class="form-horizontal"> <!--   <div class="form-group">\n        <div class="col-xs-10">\n          <input type="text" class="form-control" ng-model="player">\n        </div>\n        <div class="col-xs-2">\n          <button class="btn btn-primary" ng-click="lookupPlayer()">Lookup</button>\n        </div>\n      </div> --> <div class="form-group"> <label class="col-sm-2 control-label">Current Mage XP</label> <div class="col-sm-10"> <input type="number" class="form-control" placeholder="0" ng-model="xp.current"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">Target Level</label> <div class="col-sm-10"> <input type="number" class="form-control" placeholder="60" max="99" ng-model="xp.target"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">XP Left</label> <div class="col-sm-10"> <p class="form-control-static">{{xp.left | number}} XP</p> </div> </div> </form> </div> </div> <div class="row"> <div class="col-md-6"> <h4><img src="../images/mind.25a8871d.png"> Fire Strike ({{mind.gp}} GP)</h4> <!--     <pre>{{mind | json}}</pre>\n --> <table class="table"> <tr> <td><b>Casts Left</b></td> <td><b>{{mind.castsLeft | number}}</b></td> </tr> <tr> <td>Total Cost</td> <td>{{mind.totalCost | number }} GP</td> </tr> <tr> <td>Xp/Hr</td> <td>{{mind.xpHr | number }}</td> </tr> <tr> <td>Gp/Hr</td> <td>{{mind.gpHr | number }}</td> </tr> <tr> <td>Time Left</td> <td>{{mind.timeLeft | number }} Hours</td> </tr> </table> </div> <div class="col-md-6"> <h4><img src="../images/chaos.79a51549.png"> Fire Bolt ({{chaos.gp}} GP)</h4> <table class="table"> <tr> <td><b>Casts Left</b></td> <td><b>{{chaos.castsLeft | number}}</b></td> </tr> <tr> <td>Total Cost</td> <td>{{chaos.totalCost | number }} GP</td> </tr> <tr> <td>Xp/Hr</td> <td>{{chaos.xpHr | number }}</td> </tr> <tr> <td>Gp/Hr</td> <td>{{chaos.gpHr | number }}</td> </tr> <tr> <td>Time Left</td> <td>{{chaos.timeLeft | number }} Hours</td> </tr> </table> </div> <div class="col-md-6"> <h4><img src="../images/death.ac335987.png"> Fire Blast ({{death.gp}} GP)</h4> <table class="table"> <tr> <td><b>Casts Left</b></td> <td><b>{{death.castsLeft | number}}</b></td> </tr> <tr> <td>Total Cost</td> <td>{{death.totalCost | number }} GP</td> </tr> <tr> <td>Xp/Hr</td> <td>{{death.xpHr | number }}</td> </tr> <tr> <td>Gp/Hr</td> <td>{{death.gpHr | number }}</td> </tr> <tr> <td>Time Left</td> <td>{{death.timeLeft | number }} Hours</td> </tr> </table> </div> <div class="col-md-6"> <h4><img src="../images/blood.aa444231.png"> Fire Wave ({{blood.gp}} GP)</h4> <table class="table"> <tr> <td><b>Casts Left</b></td> <td><b>{{blood.castsLeft | number}}</b></td> </tr> <tr> <td>Total Cost</td> <td>{{blood.totalCost | number }} GP</td> </tr> <tr> <td>Xp/Hr</td> <td>{{blood.xpHr | number }}</td> </tr> <tr> <td>Gp/Hr</td> <td>{{blood.gpHr | number }}</td> </tr> <tr> <td>Time Left</td> <td>{{blood.timeLeft | number }} Hours</td> </tr> </table> </div> </div>')}]);